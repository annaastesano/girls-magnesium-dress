{% extends "./base.html" %}
{% load staticfiles %}

{% block main %}
<div class="dmb-registration"
    ng-controller="RegistrationCtrl as registrationCtrl"
    ng-cloak>
  <div class="h-c-page">
    <div class="h-c-grid" ng-if="!registrationCtrl.link">
      <div class="h-c-grid__col h-c-grid__col--4 dmb-registration__col-asset">
        <img src="{% static 'img/registration/megaphone.svg' %}" alt="">
      </div>
      <div class="h-c-grid__col h-c-grid__col--8">
        <h1 class="dmb-registration__title h-c-headline h-c-headline--two">
            Ready to start benchmarking your businessâ€™ digital maturity?
        </h1>
        <p>
          Create a survey to share with your colleagues. Receive a personalised maturity report for your organisation.
        </p>
        <form name="registration" novalidate ng-submit="registrationCtrl.submit()">
          <div class="input-wrp">
            <input name="companyName" ng-model="registrationCtrl.companyName" type="text" required placeholder="Organization">
            <div class="input-wrp__error" ng-show="!registration.companyName.$pristine && registration.companyName.$error.required">This field is required.</div>
          </div>
          <button ng-disabled="!registration.$valid" class="h-c-button h-c-button--primary">
            Create Survey
          </button>
        </form>
      </div>
    </div>
    <div class="h-c-grid" ng-if="registrationCtrl.link">
      <div class="h-c-grid__col h-c-grid__col--4 dmb-registration__col-asset">
        <img src="{% static 'img/registration/success.svg' %}" alt="">
      </div>
      <div class="h-c-grid__col h-c-grid__col--8">
        <h1 class="dmb-registration__title h-c-headline h-c-headline--two">
            Survey created.
        </h1>
        <h4>Your personalised survey link</h4>
        <div class="dmb-registration__link">
          <div id="survey-link">
            {[ registrationCtrl.link ]}
          </div>
          <button
              class="h-c-link"
              ngclipboard
              data-clipboard-target="#survey-link">
            Copy
          </button>
        </div>
        <p class="dmb-registration__share-copy">
            Share this link with others in your business who could contribute to your maturity assessment. Keep it safe in case you need to access it again.
        </p>
        <a ng-href="{[ registrationCtrl.link ]}" class="h-c-button h-c-button--primary" target="_blank">
          Take the survey now
        </a>
      </div>
    </div>
  </div>
</div>

{% endblock %}
