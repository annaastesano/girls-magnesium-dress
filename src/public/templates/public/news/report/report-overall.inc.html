<section class="dmb-report-overall dmb-u-m-b-l h-c-page">
  <h1 class="h-c-eyebrow">
    Your digital maturity score
  </h1>
  <div class="h-c-grid">
    <div class="dmb-report-overall__donut-col h-c-grid__col h-c-grid__col--4 h-c-grid__col--offset-1 h-c-grid__col--align-middle h-c-grid__col-m--order-2">

      <div class="dmb-progress-circle dmb-progress-circle--level-{[reportCtrl.floorDmb]}" data-progress="reportCtrl.result.dmb">
        <svg dmb-progress-circle="reportCtrl.result.dmb" class="dmb-progress-circle__prog-svg" viewbox="0 0 120 120">
          <circle class="dmb-progress-circle__bg-bar" cx="60" cy="60" r="54" fill="none"/>
          <circle class="dmb-progress-circle__prog-bar" cx="60" cy="60" r="54" fill="none"/>
        </svg>
        <div class="dmb-progress-circle__text">
          <span class="h-c-headline h-c-headline--display-two dmb-progress-circle__result">{[reportCtrl.result.dmb|number:1]}</span><span class="h-c-headline h-c-headline--four dmb-progress-circle__total">/{[reportCtrl.levelsTotal]}</span>
        </div>
      </div>

    </div>
    <div class="h-c-grid__col h-c-grid__col--6">
      <h2 class="h-c-headline h-c-headline--three">
        {[reportCtrl.levels[reportCtrl.floorDmb]]} ({[reportCtrl.result.dmb|dmbRangeText]})
      </h2>
      <p>
        {[reportCtrl.reportLevelDescriptions[reportCtrl.floorDmb]]}
      </p>
      <a class="dmb-report-overall__link h-c-link">
        Learn more about levels
      </a>
    </div>
  </div>



  <dmb-progress-grid class="dmb-progress-grid dmb-progress-grid--level-{[reportCtrl.floorDmb]} dmb-u-m-t-m">
    <!-- col-bg -->
    <div class="dmb-progress-grid__col-bg dmb-progress-grid__col-bg--level-{[$index]}"
      ng-repeat="level in reportCtrl.levels">
    </div>

    <!-- grid headings -->
    <div class="dmb-progress-grid__heading dmb-progress-grid__heading--level-{[$index]} h-c-eyebrow"
      ng-repeat="level in reportCtrl.levels">
      {[level]}
    </div>

    <!-- bar labels -->
    <div class="dmb-progress-grid__label dmb-progress-grid__label--company h-u-font-weight-medium">
      {[reportCtrl.survey.company_name]}
    </div>
    <div class="dmb-progress-grid__label dmb-progress-grid__label--ind-avg h-u-font-weight-regular">
      <button dmb-side-panel-trigger="#dmb-report-left-side-panel-two"
        aria-label="Get more informations about the industry average">
        {% include 'core/inc/svg.html' with id='info' size='20px' only %}
      </button> Industry average
    </div>
    <div class="dmb-progress-grid__label dmb-progress-grid__label--ind-best h-u-font-weight-regular">
      <button dmb-side-panel-trigger="#dmb-report-left-side-panel-two"
        aria-label="Get more informations about the industry average">
        {% include 'core/inc/svg.html' with id='info' size='20px' only %}
      </button> Industry best
    </div>

    <!-- vertical bars -->
    <div class="dmb-progress-grid__v-bar dmb-progress-grid__v-bar--company"
      data-value="{[reportCtrl.result.dmb|number:1]}" data-level-name="{[reportCtrl.getLevelName(reportCtrl.result.dmb)]}"
      ng-style="{height: reportCtrl.getProgress(reportCtrl.result.dmb)}">
    </div>
    <div class="dmb-progress-grid__v-bar dmb-progress-grid__v-bar--ind-best"
      data-value="{[reportCtrl.industryResult.dmb_bp|number:1]}"
      data-level-name="{[reportCtrl.getLevelName(reportCtrl.industryResult.dmb_bp)]}"
      ng-style="{height: reportCtrl.getProgress(reportCtrl.industryResult.dmb_bp)}">
    </div>
    <div class="dmb-progress-grid__v-bar dmb-progress-grid__v-bar--ind-avg"
      data-value="{[reportCtrl.industryResult.dmb|number:1]}"
      data-level-name="{[reportCtrl.getLevelName(reportCtrl.industryResult.dmb)]}"
      ng-style="{height: reportCtrl.getProgress(reportCtrl.industryResult.dmb)}">
    </div>

    <!-- horizontal bars -->
    <div class="dmb-progress-grid__h-bar dmb-progress-grid__h-bar--company"
      data-value="{[reportCtrl.result.dmb|number:1]}" ng-style="{width: reportCtrl.getProgress(reportCtrl.result.dmb)}">
    </div>
    <div class="dmb-progress-grid__h-bar dmb-progress-grid__h-bar--ind-avg"
      data-value="{[reportCtrl.industryResult.dmb|number:1]}"
      ng-style="{width: reportCtrl.getProgress(reportCtrl.industryResult.dmb)}">
    </div>
    <div class="dmb-progress-grid__h-bar dmb-progress-grid__h-bar--ind-best"
      data-value="{[reportCtrl.industryResult.dmb_bp|number:1]}"
      ng-style="{width: reportCtrl.getProgress(reportCtrl.industryResult.dmb_bp)}">
    </div>

  </dmb-progress-grid>
</section>
