{% load angular %}
{% load i18n %}
{% trans "logo" as logo_alt_text %}
<div
    class="dmb-dimension-tabs__content dmb-dimension-tabs__content--level-{[dimensionTabCtrl.floorDMB]}">

  <div class="dmb-dimension-tabs__intro">
    <div class="h-c-grid">
      <div class="dmb-dimension-tabs__logo-col h-c-grid__col h-c-grid__col--2 h-c-grid__col--offset-1">
        <img
            ng-src="{[dimensionTabCtrl.dmbStaticUrl]}img/{[dimensionTabCtrl.tenant]}/dimensions/{[dimensionTabCtrl.dimensionClassNames[dmbDimensionTab]]}.svg"
            alt="{[dmbDimensionTab]} {{logo_alt_text}}"
            class="dmb-dimension-tabs__logo">
      </div>
      <div class="h-c-grid__col h-c-grid__col--8 h-c-grid__col--offset-1">
        <h3 class="h-c-headline h-c-headline--three">
          {[dimensionTabCtrl.dimensionHeaders[dmbDimensionTab]]}
        </h3>
        <p class="h-c-headline h-c-headline--subhead">
          {[dimensionTabCtrl.dimensionHeadersDescription[dmbDimensionTab]]}
        </p>
      </div>
    </div>
  </div>

  <div class="dmb-dimension-tabs__results">
    <div class="h-c-grid">
      <div class="dmb-dimension-tabs__results-highlight h-c-grid__col h-c-grid__col--4 h-u-text-center">
        <div class="dmb-dimension-tabs__results-heading h-c-headline h-c-headline--two">
          {[dimensionTabCtrl.levels[dimensionTabCtrl.floorDMB]]}
        </div>
        <div class="dmb-dimension-tabs__results-subheading h-u-font-weight-regular">
          {% trans "in this dimension" %}
        </div>
        <div class="dmb-dimension-tabs__results-value h-c-headline h-c-headline--three">
          {[dimensionTabCtrl.dmb|number:1]}/{[dimensionTabCtrl.levelsTotal]}
        </div>
      </div>
      <div class="h-c-grid__col h-c-grid__col--7">
        {[ dimensionTabCtrl.dimensionLevelDescription[dmbDimensionTab][dimensionTabCtrl.floorDMB]]}
      </div>
    </div>
  </div>

  <div class="dmb-dimension-tabs__progress-grid">
    <dmb-progress-grid
        data-company-name="{[companyName]}"
        data-rating-main="dimensionTabCtrl.dmb"
        data-industry-avg="dimensionTabCtrl.industryDmb"
        data-industry-best="dimensionTabCtrl.industryDmb_bp"
        data-industry-ready="!!dimensionTabCtrl.industryResult">
    </dmb-progress-grid>
  </div>


  <div ng-if=" dimensionTabCtrl.tenant == 'cloud' ">
    <div class="h-c-grid">
      <div class="h-c-grid__col h-c-grid__col--8 h-c-grid__col--offset-1">
        <h2 class="h-c-headline h-c-headline--three">
          Epics
        </h2>
        <p>
          {[ dimensionTabCtrl.subdimensionDescription ]}
        </p>
        <button
            class="dmb-report-overall__link h-c-link dmb-u-m-b-s"
            dmb-side-panel-trigger="#dmb-subdimension-side-panel">
          Learn more about epics
        </button>

        <h3 class="h-c-headline h-c-headline--subhead h-u-font-weight-medium dmb-u-m-b-m">
          Here's how you score for epics in this theme:
        </h3>
      </div>
    </div>

    <div class="dmb-u-m-b-l h-c-grid">
      <div
          class="h-c-grid__col h-c-grid__col--5 h-c-grid__col--offset-1"
          ng-repeat="subdimension in dimensionTabCtrl.subdimensions[dmbDimensionTab]">

        <div
            class="dmb-progress-circle dmb-progress-circle--small dmb-progress-circle--level-{[progressCircleCtrl.level]} dmb-u-m-b-s"
            data-progress="dimensionTabCtrl.ahmed[subdimension]">
          <svg
              class="dmb-progress-circle__prog-svg"
              dmb-progress-circle="dimensionTabCtrl.ahmed[subdimension]"
              viewbox="0 0 120 120">
            <circle class="dmb-progress-circle__bg-bar" cx="60" cy="60" r="54" fill="none" />
            <circle class="dmb-progress-circle__prog-bar" cx="60" cy="60" r="54" fill="none" />
          </svg>
          <div class="dmb-progress-circle__text">
            <span class="h-c-headline h-c-headline--subhead h-u-font-weight-medium dmb-progress-circle__result">
              {[dimensionTabCtrl.ahmed[subdimension]|number:1]}
            </span>
          </div>
        </div>

        <h4 class="h-c-headline h-c-headline--four">
          {[ dimensionTabCtrl.subdimensionHeaders[subdimension] ]}
        </h4>
        <p class="dmb-u-m-b-m">
          {[ dimensionTabCtrl.subdimensionDescriptions[subdimension] ]}
        </p>
      </div>
    </div>
  </div>


  <div class="h-c-grid">
    <div class="h-c-grid__col h-c-grid__col--10 h-c-grid__col--offset-1">
      <h4 class="dmb-dimension-tabs__recommendations-header h-c-headline h-c-headline--four dmb-h-hidden--print">
        <img
            ng-src="{[dimensionTabCtrl.dmbStaticUrl]}img/{[dimensionTabCtrl.tenant]}/dimensions/{[dimensionTabCtrl.dimensionClassNames[dmbDimensionTab]]}.svg"
            alt="{[dimensionTabCtrl.dimensionHeaders[dmbDimensionTab]]} {{logo_alt_text}}">
        {[dimensionTabCtrl.dimensionHeaders[dmbDimensionTab]]}
      </h4>
      <h4 class="h-c-headline h-c-headline--two">
        <span ng-if="dimensionTabCtrl.floorDMB < (dimensionTabCtrl.levelsTotal - 1)">
          {% trans "You could be" %} {[dimensionTabCtrl.levels[dimensionTabCtrl.floorDMB + 1]]}
        </span>
        <span ng-if="dimensionTabCtrl.floorDMB === (dimensionTabCtrl.levelsTotal - 1)">
          {% trans "Congratulations, you're in the top group for data maturity" %}
        </span>
      </h4>

      <div class="dmb-dimension-tabs__recommendations">
        <h4 class="h-c-headline h-c-headline--four">
          <span ng-if="dimensionTabCtrl.floorDMB < (dimensionTabCtrl.levelsTotal - 1)">
            {% trans "Here's how you get there:" %}
          </span>
          <span ng-if="dimensionTabCtrl.floorDMB === (dimensionTabCtrl.levelsTotal - 1)">
            {% trans "Here's how to get even better:" %}
          </span>
        </h4>

        <ul class="dmb-dimension-tabs__recommendation-list">
          <li
              class="dmb-dimension-tabs__recommendation"
              ng-repeat="recommendation in dimensionTabCtrl.dimensionLevelRecommendations[dmbDimensionTab][dimensionTabCtrl.floorDMB]">
            <h5 class="dmb-dimension-tabs__recommendation-heading h-c-headline h-c-headline--subhead h-u-font-weight-medium">
              {[recommendation.header]}
            </h5>
            <p>
              {[recommendation.text]}
            </p>
            <a
                ng-if="recommendation.cta"
                class="dmb-dimension-tabs__recommendation-cta dmb-h-hidden--print h-c-button h-c-button--secondary"
                href="{[recommendation.cta.link]}"
                target="_blank">
              {[recommendation.cta.text]}
            </a>
          </li>
        </ul>
      </div>

    </div>
  </div>
</div>
