{% load angular %}
{% load i18n %}

<aside
    id="dmb-subdimension-side-panel"
    class="dmb-side-panel dmb-side-panel--left dmb-side-panel--narrow"
    dmb-side-panel>
  <button
      class="dmb-side-panel__fab dmb-fab"
      dmb-side-panel-close>
    <span class="dmb-fab__icon">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
        <use xlink:href="#mi-close"></use>
      </svg>
    </span>
  </button>

  <div class="dmb-side-panel__inner">
    <h1 class="h-c-headline h-c-headline--three dmb-u-m-b-m dmb-u-underlined-heading">
      {[ reportCtrl.subdimensionsSidepanelHeading ]}
    </h1>
    <p
        class="dmb-u-m-b-m"
        ng-bind-html="reportCtrl.subdimensionsReportDescription">
    </p>


    <div
        ng-class="{'dmb-u-m-b-m':!$last}"
        ng-repeat="dimension in reportCtrl.dimensionList">
      <h2 class="h-c-headline h-c-headline--four">
        <div class="dmb-inline-img-text dmb-inline-img-text--large">
          <div class="dmb-inline-img-text__img-wrp">
            <img
                alt="dimension icon"
                class="dmb-inline-img-text__img"
                ng-src="{[ reportCtrl.dmbStaticUrl ]}img/{{ tenant|ng_mark_safe }}/dimensions/{[ dimension|underscoreToHyphen ]}.svg">
          </div>
          <div class="dmb-inline-img-text__text">
            {[ reportCtrl.dimensions[dimension].name ]}
          </div>
        </div>
      </h2>

      <div
          ng-repeat="subdimension in reportCtrl.subdimensionLists[dimension]">
        <h3 class="h-c-headline h-c-headline--subhead dmb-u-m-b-xs">
          {[ reportCtrl.subdimensions[subdimension]['name'] ]}
        </h3>
        <p
            ng-class="{'dmb-u-m-b-s':!$last}">
          {[ reportCtrl.subdimensions[subdimension]['description'] ]}
        </p>
      </div>
    </div>

  </div>
</aside>
