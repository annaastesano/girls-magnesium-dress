{% load staticfiles %}
{% load static_rev %}
{% load angular %}
{% load i18n %}
<!DOCTYPE html>
<html lang="en" id="dmb-{{tenant|ng_mark_safe}}">
<head ng-csp>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!-- Google Tag Manager -->
    <script>
      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-MLTPJ6X');
    </script>
    <!-- End Google Tag Manager -->
    <link rel="shortcut icon" href="{% static 'img/favicon.png' %}">

    <link rel="stylesheet" href="{% static_rev 'css/main.css' %}">

    {% if debug %}
      <link rel="stylesheet" href="/node_modules/angular/angular-csp.css">
      <script src="/node_modules/google-closure-library/closure/goog/base.js"></script>
      <script src="{% static 'js/deps.js' %}"></script>
      <script src="{% static 'js/detect.min.js' %}"></script>
    {% else %}
      <script src="{% static_rev 'js/detect.min.js' %}"></script>

      {% comment %} Deferred scripts {% endcomment %}
      <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js" defer></script>
      <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-animate.min.js" defer></script>
      <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-aria.min.js" defer></script>
      <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-messages.min.js" defer></script>

      <!-- Third party -->
      <script src="{% static_rev 'js/main.min.js' %}" defer></script>
    {% endif %}

    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700|Google+Sans:400,500,200|Google+Sans+Display:400,700|Product+Sans:400&lang=en" rel="stylesheet">

    {% with prod_name=product_name|ng_mark_safe %}
    <title>{% trans prod_name %}</title>
    {% endwith %}
</head>
<body class="{% block body_class %}{% endblock %}" angular-app>
  <!-- Google Tag Manager (noscript) -->
  <noscript>
    <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MLTPJ6X" height="0" width="0" style="display:none;visibility:hidden"></iframe>
  </noscript>
  <!-- End Google Tag Manager (noscript) -->

  {% csrf_token %}

  {% block header %}
    {% include 'public/inc/global/header.html' %}
  {% endblock header %}
  <div id="jump-content">
    {% block main %}
    {% endblock main %}
  </div>

{% block footer %}
  {% include 'public/inc/global/footer.html'  with footerClass="h-c-footer--topmargin" %}
{% endblock footer %}

<div style="display: none">
  {% include 'core/inc/_svg.inc.html' %}
  {% include 'core/inc/_dmb-svgs.inc.html' %}
</div>

<div
    id="bootstrap-data"
    class="ng-non-bindable"
    data-bootstrap-data="{% block bootstrap_data %}{% endblock %}"
    data-content-data="{{ content_data|ng_mark_safe }}"
    data-static-url="{% static '' %}"
    data-tenant="{{ tenant|ng_mark_safe }}">
</div>

{% if debug %}

  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-animate.js"></script>

  <script src="/node_modules/clipboard/dist/clipboard.js"></script>
  <script src="/node_modules/ngclipboard/dist/ngclipboard.js"></script>
  <script src="{% static 'js/templates.js' %}" ></script>
  <script src="{% static 'js/main.min.js' %}" ></script>
{% endif %}
</body>
</html>
