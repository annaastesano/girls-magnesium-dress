$dot-size: 23px;
$dot-border: 2px;
$dot-size-inner: 9px;
$dot-right: -22px;

$infographic-default: $h-google-blue-400;

$step-colors: $h-google-blue-400, $h-google-blue-500, $h-google-blue-700, $h-google-blue-900;

.dmb-infographic {
  position: relative;

  &::before,
  &::after {
    bottom: 0;
    content: '';
    display: block;
    position: absolute;
    top: 0;
    width: $h-site-padding-mobile;
    z-index: 2;

    @include bp(s) {
      width: $h-site-padding;
    }

    @include bp(m) {
      content: none;
      display: none;
    }
  }

  &::before {
    background-image: linear-gradient(to right, $h-google-grey-50 0%, transparent 100%);
    right: 100%;
  }

  &::after {
    background-image: linear-gradient(to right, transparent 0%, $h-google-grey-50 100%);
    left: 100%;
  }

  &__inner {
    display: flex;
    list-style-type: none;
    margin-bottom: 0;
    margin-left: 0;
    padding-left: $h-site-padding-mobile;
    padding-right: $h-site-padding-mobile;
    position: relative;
    width: 400%;
    width: calc(400% - #{$h-site-padding-mobile * 6});

    @include bp(s) {
      padding-left: $h-site-padding;
      padding-right: $h-site-padding;
      width: 200%;
      width: calc(200% - #{$h-site-padding * 2});
    }

    @include bp(m) {
      width: auto;
    }
  }

  &__step {
    width: 25%;
  }

  &__step-t,
  &__step-d {
    padding-left: $h-site-padding-mobile;
    padding-right: $h-site-padding-mobile;

    @include bp(s) {
      padding-left: $h-site-padding;
      padding-right: $h-site-padding;
    }

    @include bp(m) {
      padding-left: 20px;
      padding-right: 20px;
    }
  }

  &__step-t {
    font-family: $h-font-family-google-sans;
    font-size: 18px;
    font-weight: $h-font-weight-regular;
    padding-bottom: 20px;
    padding-top: 20px;
    position: relative;
    text-align: center;
    white-space: nowrap;
    z-index: 1;

    @include bp(m) {
      line-height: 24px;
    }
  }

  &__step-d {
    margin-left: 0;
    padding-bottom: 44px;
    padding-top: 44px;
    position: relative;

    &::before,
    &::after {
      content: '';
      display: block;
      height: 8px;
      left: 0;
      position: absolute;
      top: 0;
      width: 100%;
    }

    &::before {
      background-color: $infographic-default;
    }

    &::after {
      left: -50%;
    }

    &:first-child::after {
      content: none;
      display: none;
    }
  }

  @each $color in $step-colors {
    $i: index($step-colors, $color);

    &__step:nth-of-type(#{$i}) &__step-t {
      color: $color;
    }

    &__step:nth-of-type(#{$i}) &__step-d {
      &::before {
        background-color: $color;
      }

      @if ($i > 1) {
        &::after {
          $previous-color: nth($step-colors, $i - 1);
          background-image: linear-gradient(to right, $previous-color 0%, $color 100%);
        }
      }
    }
  }

}
